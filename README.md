# tprompts

Universal CLI for installing prompt packs directly into your coding editors. Install prompts from any GitHub URL into VS Code, Cursor, Windsurf, Claude Code, or any other editor - no registration required.

## Repository Layout
- `src/` – TypeScript source for the Oclif-based CLI (all commands)
- `lib/` – Compiled JavaScript emitted by `npm run build` (published to npm)
- `example-prompts/` – A sample prompts repository that demonstrates the `tprompts.json` format
- `docs/tprompts-plan.md` – Design document and implementation notes
- `claude.md` – Comprehensive documentation for all CLI commands
- `node_modules/`, `package.json`, `tsconfig.json` – Standard Node.js project scaffolding

## Key Features
- **Direct URL Installation**: Install prompts directly from GitHub URLs - no registration needed
- **Universal Editor Support**: Works with any editor - not limited to predefined list
- **Smart Installation**: Prefix/suffix processing, conflict detection, and dry-run mode
- **Simple & Fast**: One command to install, one to remove
- **Preview Changes**: Use `--dry-run` to see what will be installed before making changes

## Prerequisites
- Node.js 16+
- Git (required when registering remote repositories)

## Getting Started
```bash
# Install dependencies
npm install

# Run the CLI in watch mode during development
npm run dev -- --help

# Or build once and run the compiled CLI
npm run build
node lib/cli.js --help
```

You can also execute the TypeScript entry point directly:
```bash
npx tsx src/cli.ts <command> [flags]
```

## Quick Start

```bash
# Install globally
npm install -g @thongntit/tprompts

# Or use with npx
npx @thongntit/tprompts --help
```

## Usage

```bash
# Install a prompt from GitHub URL
tprompts install https://github.com/user/repo/prompt-name vscode
tprompts install https://github.com/user/repo/tree/main/prompts/my-prompt cursor

# Works with any editor name your prompt pack supports
tprompts install https://github.com/thongntit/prompts/tree/main/prompts/obisidian-second-brain claude
tprompts install https://github.com/user/repo/prompt windsurf

# Preview before installing
tprompts install https://github.com/user/repo/prompt vscode --dry-run

# Force overwrite existing files
tprompts install https://github.com/user/repo/prompt cursor --force
```

## Prompt Repository Format
Each prompt pack lives in its own folder and must include a `tprompts.json` configuration file describing how files should be installed per editor. A minimal example:

```json
{
  "name": "Coding Assistant",
  "description": "Shared rules for the coding assistant persona",
  "editors": {
    "vscode": {
      "system-prompt.md": {
        "location": ".vscode/ai-assistant.md",
        "prefix": "---\nrole: system\napplyTo: '**'\n---\n\n"
      },
      "commands/": {
        "location": ".vscode/commands/",
        "suffix": "\n\n<!-- Generated by tprompts -->"
      }
    },
    "cursor": {
      "system-prompt.md": {
        "location": ".cursorrules"
      }
    }
  }
}
```

Configuration options include:
- `location`: Destination path relative to the project root
- `prefix` / `suffix`: Optional text injected before or after file contents
- Directory support: Point a configuration key at a source directory (`commands/` above) to copy all of its files recursively while keeping the structure intact

Refer to `example-prompts/` for complete, multi-editor configurations.

## Local State
- Registry and settings live in `~/.tprompts/repos.json` and `~/.tprompts/config.json`
- Git repositories registered through `tprompts register <url>` are cloned into `~/.tprompts/repositories/<name>`
- Installations write directly into your current working directory; use `--dry-run` to preview changes

## Development
- `npm run dev` – Execute the CLI via `tsx` (passes additional args after `--`)
- `npm run build` – Compile TypeScript to `lib/`
- `npm test` – Reserved for Jest tests (no suites yet)

## Available Commands

- `tprompts install <github-url> <editor>` - Install prompts from a GitHub URL
  - Options: `--dry-run`, `--force`, `-e/--editor`

Run `tprompts --help` or `tprompts install --help` for detailed usage information.

Full command documentation is available in `claude.md`.

## Documentation

- **`claude.md`** - Comprehensive command reference with examples
- **`docs/tprompts-plan.md`** - Design document and implementation notes
- **`example-prompts/`** - Sample prompt repository demonstrating the format
